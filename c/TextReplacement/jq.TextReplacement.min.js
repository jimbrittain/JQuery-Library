"use strict";function TextReplacement(a){this.containerCSSString="",this.dynamicValue=!0,this._view=null,this._tying=null,this._valid=null,this.elementsResolved=[],this.init(a)}TextReplacement.prototype.init=function(a){if("object"==typeof a&&(this.containerCSSString="container"in a&&"string"==typeof a.container?a.container:"",this.dynamicValue="dynamic"in a&&a.dynamic?!0:!1,this._valid="valid"in a&&"function"==typeof a.valid?a.valid:null,this._view="view"in a&&"function"==typeof a.view?a.view:null,this._tying="tying"in a&&"function"==typeof a.tying?a.tying:null),""!==this.containerCSSString){var b=this;$(document).ready(function(){b.process()})}},TextReplacement.prototype.dynamicTying=function(a){return this.dynamicValue&&"function"==typeof this._tying?this._tying(a):void(new IMDebugger).pass("This instance of Replacement Graphic is not set up for dynamic value settings. Either set dynamicValue to false or include a valid dynamic function.")},TextReplacement.prototype.process=function(){var a=this;$(this.containerCSSString).each(function(){a.elementResolved(this)||a.resolveElement(this)})},TextReplacement.prototype.resolveElement=function(a){if(void 0!==a&&isHTMLElement(a)){if(this.elementResolved(a))return!1;try{var b=null;this.dynamicValue&&(b=this.dynamicTying(a)),b=this.validReturn(b);var c=this.viewCode(b);return void 0!==c&&isHTMLElement(c)?(this.addToResolved(a),$(a).replaceWith(c),!0):((new IMDebugger).pass("TextReplacement.resolveElement: viewCode must return a valid HTMLElement."),!1)}catch(d){}return!1}(new IMDebugger).pass("TextReplacement.resolveElement: Requires valid HTMLElement")},TextReplacement.prototype.elementResolved=function(a){if(isHTMLElement(a)){for(var b=!1,c=0,d=this.elementsResolved.length;d>c;c+=1)if(this.elementResolved[c]===a){b=!0;break}return b}(new IMDebugger).pass("TextReplacement.elementProcessed: Requires valid HTMLElement")},TextReplacement.prototype.addToResolved=function(a){return this.elementResolved(a)?!1:(this.elementsResolved.push(a),!0)},TextReplacement.prototype.viewCode=function(a){return"function"==typeof this._view?this._view(a):void(new IMDebugger).pass("TextReplacement.viewCode: No valid view code has been supplied")},TextReplacement.prototype.validReturn=function(a){return"function"==typeof this._valid?this._valid(a):a};