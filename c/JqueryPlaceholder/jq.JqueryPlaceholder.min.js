"use strict";function JqueryPlaceTarget(a){this.target=a,this.element=a,this.elementRevise()}function JqueryPlaceCheck(a){this.element=a,this.tested=!1,this.needs=!1}function JqueryPlaceholder(){return JqueryPlaceholder.prototype.singletonInstance?JqueryPlaceholder.prototype.singletonInstance:(JqueryPlaceholder.prototype.singletonInstance=this,this.elements=[new JqueryPlaceCheck("input"),new JqueryPlaceCheck("textarea")],this.targets=[{name:'input[type="text"]',element:"input"},{name:'input[type="search"]',element:"input"},{name:'input[type="number"]',element:"input"},{name:'input[type="email"]',element:"input"},{name:"textarea",element:"textarea"}],this.elementsProcessed=[],void this.init())}JqueryPlaceTarget.prototype.elementRevise=function(){var a=[],b=-1;a=-1!==this.element.indexOf(" ")?this.element.split(" "):[this.element];var c=[":",".","#",">","[","]"];for(b=a.length-1;b>-1;b-=1)for(var d=0,e=c.length;e>d&&(-1===a[b].indexOf(c[d])||(a[b]=a[b].substring(0,a[b].indexOf(c[d])),0!==a[b].length));d+=1);for(b=a.length-1;b>-1;b-=1)if(a[b].length>0){this.element=a[b];break}},JqueryPlaceCheck.prototype.needed=function(){return this.tested?this.needs:this.checkNeeds()},JqueryPlaceCheck.prototype.checkNeeds=function(){if(!this.tested){this.needs=!0,this.tested=!1;var a=document.createElement(this.element);if(a.attributes&&a.attributes.length>0&&a.attributes.getNamedItem&&(this.tested=!0,this.needs=a.attributes.getNamedItem("placeholder")?!1:!0),!this.tested&&a.hasOwnProperty&&(this.tested=!0,this.needs=a.hasOwnProperty("placeholder")||"placeholder"in a?!1:!0),!this.tested){var b="cheese";if(a.setAttribute)a.setAttribute("placeholder",b);else{a=document.createElement("<"+this.element+">");var c=document.createAttribute("placeholder");c.nodeValue=b,a.setAttributeNode(c)}a.placeholder&&a.placeholder===b?this.needs=!1:a.hasAttribute&&a.hasAttribute("placeholder")&&(a.getAttribute&&a.getAttribute("placeholder")===b?this.needs=!1:a.getAttributeNode&&a.getAttributeNode("placeholder").value===b&&(this.needs=!1)),this.tested=!0}if(!this.needs)try{var d="createElement"in document?document.createElement(this.element):$("<"+this.element+">")[0];$(d).attr("placeholder","text"),d=null}catch(e){this.needs=!0}}return this.needs},JqueryPlaceholder.prototype.elementProcessed=function(a){for(var b=!1,c=0,d=this.elementsProcessed.length;d>c;c+=1)if(this.elementsProcessed[c]===a)return b=!0,!0;return b},JqueryPlaceholder.prototype.elementNeeds=function(a){for(var b=a.toLowerCase(),c=-1,d=!1,e=0,f=this.elements.length;f>e;e+=1)if(this.elements[e].element===b){d=!0,c=e;break}return d||(this.elements.push(new JqueryPlaceCheck(b)),c=this.elements.length-1),this.elements[c].needed()},JqueryPlaceholder.prototype.process=function(a){if(a instanceof JqueryPlaceTarget||!(a instanceof Object)||"element"in a||(a=new JqueryPlaceTarget(a)),this.elementNeeds(a.element)){var b=this;$(a.name).each(function(){if(!b.elementProcessed(this)){var a=$(this).attr("placeholder")?$(this).attr("placeholder"):null,c="getAttribute"in this?this.getAttribute("placeholder"):null,d="attributes"in this&&"placeholder"in this.attributes?this.attributes.placeholder:null;a=null!==a&&"object"==typeof a&&"value"in a?a.value.toString():"string"==typeof a?a.toString():"null",c=null!==c&&"object"==typeof c&&"value"in c?c.value.toString():"string"==typeof c?c.toString():"null",d=null!==d&&"object"==typeof d&&"value"in d?d.value.toString():"string"==typeof d?d.toString():"null";var e="null"!==c?c:"null"!==a?a:"null"!==d?d:"null";"null"!==e&&(b.create(this,e),b.elementsProcessed.push(this))}})}},JqueryPlaceholder.prototype.firstrun=function(){for(var a=0,b=this.targets.length;b>a;a+=1)this.process(this.targets[a]);this.condenseLabelIntoInput()},JqueryPlaceholder.prototype.condenseLabelIntoInput=function(){var a=this;$("label.condense").each(function(){var b=$(this),c=b.attr("for"),d=$("#"+c);if("input"===d.get(0).tagName.toLowerCase()||"textarea"===d.get(0).tagName.toLowerCase()){if(a.elementNeeds(d.get(0).tagName))a.create(d,b.text());else{var e=!1,f=d.get(0);if(f.placeholder)try{f.placeholder=b.text()}catch(g){e=!0}else try{d.attr("placeholder",b.text())}catch(g){e=!0}e&&a.create(d,b.text())}try{$(this).attr("aria-role","label")}catch(g){}$(this).css("display","none")}})},JqueryPlaceholder.prototype.create=function(a,b){var c=$(a),d=a,e=findForm(a);if(null!==e&&isHTMLElement(e)){var f=this;$(e).submit(function(){return f.checkSubmission(d)})}""===c.attr("value")||c.attr("value")===b?(c.attr("value",b).data("allowChange",!0),c.hasClass("placeholder")||c.addClass("placeholder")):(c.data("allowChange",!1),c.hasClass("placeholder")&&c.removeClass("placeholder")),c.data("dormantText",b).bind("select focus dragstart",function(){$(this).data("allowChange")&&$(this).attr("value")===$(this).data("dormantText")&&($(this).attr("value",""),$(this).hasClass("placeholder")&&$(this).removeClass("placeholder"))}).blur(function(){var a=this.value&&this.value.length>0?this.value:$(this).attr("value");""===a&&($(this).attr("value",$(this).data("dormantText")).data("allowChange",!0),$(this).hasClass("placeholder")||$(this).addClass("placeholder"))}).change(function(){$(this).data("allowChange")&&""!==$(this).attr("value")&&$(this).attr("value")!==$(this).data("dormantText")&&$(this).data("allowChange",!1)}).keydown(function(){$(this).data("allowChange",!1),$(this).hasClass("placeholder")&&$(this).addClass("placeholder")})},JqueryPlaceholder.prototype.init=function(){var a=this;$(document).ready(function(){a.firstrun()})},JqueryPlaceholder.prototype.checkSubmission=function(a){var b="",c=null;if(null!==a&&isHTMLElement(a)&&(c=$(a),a.value&&a.value.length&&a.value.length>0?b=a.value:c.attr("value")&&c.attr("value").length>0?b=c.attr("value"):"getAttribute"in a&&a.getAttribute("value")&&a.getAttribute("value").length>0&&(b=a.getAttribute("value"))),null!==c&&""!==b){var d=c.data("dormantText");if(null!==d&&-1!==b.indexOf(d)){var e=b.indexOf(d),f=b.substring(0,e)+b.substring(e+d.length);if(c.attr("value",f),0===f.length)return!1}return!0}return!1};var jqPlace=new JqueryPlaceholder;